# Pregnancy Week Development API Documentation

## Overview
A comprehensive FastAPI application for pregnancy week development tracking with OpenAI integration, baby size visualization, and quick action features.

## Base URL
```
http://localhost:8000
```

## Authentication
No authentication required for basic endpoints. OpenAI integration requires API key configuration.

## Endpoints

### Health & Status

#### Health Check
- **GET** `/health`
- **Description**: Check if the API is running and healthy
- **Response**: `{"status": "healthy", "message": "API is running"}`

#### API Root
- **GET** `/`
- **Description**: Get API information and available endpoints
- **Response**: API overview with endpoint list

#### OpenAI Status
- **GET** `/pregnancy/openai/status`
- **Description**: Check OpenAI service availability and configuration
- **Response**: OpenAI service status and configuration details

### Pregnancy Week Data

#### Get Week Data (Basic)
- **GET** `/pregnancy/week/{week}`
- **Description**: Get basic pregnancy week information without OpenAI enhancement
- **Parameters**:
  - `week` (int): Pregnancy week (1-40)
- **Response**: Complete pregnancy week data with key developments, baby size, symptoms, and tips

#### Get Week Data (AI Enhanced)
- **GET** `/pregnancy/week/{week}?use_openai=true`
- **Description**: Get pregnancy week information with AI-enhanced baby size
- **Parameters**:
  - `week` (int): Pregnancy week (1-40)
  - `use_openai` (bool): Use OpenAI for baby size information
- **Response**: Pregnancy week data with AI-generated baby size

#### Get All Weeks
- **GET** `/pregnancy/weeks`
- **Description**: Get information for all available pregnancy weeks
- **Response**: Dictionary containing all pregnancy week data

#### Get Week Developments Only
- **GET** `/pregnancy/week/{week}/developments`
- **Description**: Get only the key developments for a specific week
- **Parameters**:
  - `week` (int): Pregnancy week (1-40)
- **Response**: Key developments for the specified week

#### Get Trimester Weeks
- **GET** `/pregnancy/trimester/{trimester}`
- **Description**: Get all weeks for a specific trimester
- **Parameters**:
  - `trimester` (int): Trimester number (1, 2, or 3)
- **Response**: All weeks in the specified trimester

### Baby Size & Images

#### Get AI Baby Size
- **GET** `/pregnancy/week/{week}/baby-size`
- **Description**: Get AI-powered baby size information for a specific week
- **Parameters**:
  - `week` (int): Pregnancy week (1-40)
- **Response**: Detailed baby size information generated by OpenAI

#### Get Baby Size Image (Matplotlib)
- **GET** `/pregnancy/week/{week}/baby-image?style=matplotlib`
- **Description**: Get detailed baby size visualization image with fruit/vegetable shapes
- **Parameters**:
  - `week` (int): Pregnancy week (1-40)
  - `style` (str): Image style ('matplotlib' for detailed)
- **Response**: Base64 encoded detailed image data

#### Get Baby Size Image (Simple)
- **GET** `/pregnancy/week/{week}/baby-image?style=simple`
- **Description**: Get simple baby size visualization image
- **Parameters**:
  - `week` (int): Pregnancy week (1-40)
  - `style` (str): Image style ('simple' for basic)
- **Response**: Base64 encoded simple image data

### Quick Actions

#### Early Symptoms
- **GET** `/pregnancy/week/{week}/symptoms`
- **Description**: Get AI-powered early symptoms information with relief tips and when to call doctor
- **Parameters**:
  - `week` (int): Pregnancy week (1-40)
- **Response**: Detailed symptoms information with relief tips and warning signs

#### Prenatal Screening
- **GET** `/pregnancy/week/{week}/screening`
- **Description**: Get AI-powered prenatal screening information with recommended tests and timing
- **Parameters**:
  - `week` (int): Pregnancy week (1-40)
- **Response**: Detailed screening information with recommended tests and timing

#### Wellness Tips
- **GET** `/pregnancy/week/{week}/wellness`
- **Description**: Get AI-powered wellness tips including exercise, sleep, and stress management
- **Parameters**:
  - `week` (int): Pregnancy week (1-40)
- **Response**: Detailed wellness information with exercise, sleep, and stress management tips

#### Nutrition Tips
- **GET** `/pregnancy/week/{week}/nutrition`
- **Description**: Get AI-powered nutrition tips with essential nutrients and meal suggestions
- **Parameters**:
  - `week` (int): Pregnancy week (1-40)
- **Response**: Detailed nutrition information with essential nutrients and meal suggestions

## Response Models

### PregnancyWeek
```json
{
  "week": 10,
  "trimester": 1,
  "days_remaining": 217,
  "baby_size": {
    "size": "Coconut",
    "weight": "0.1g",
    "length": "0.6cm"
  },
  "key_developments": [
    {
      "title": "Healthy Organ Growth",
      "description": "Vital organs are fully developed and functioning.",
      "icon": "❤️",
      "category": "organs"
    }
  ],
  "symptoms": ["Morning sickness easing", "Breast growth"],
  "tips": ["Continue prenatal vitamins", "Eat balanced meals"]
}
```

### QuickActionResponse
```json
{
  "success": true,
  "week": 10,
  "trimester": 1,
  "action_type": "early_symptoms",
  "data": {
    "common_symptoms": ["Morning sickness", "Fatigue"],
    "when_to_call_doctor": ["Severe nausea", "Bleeding"],
    "relief_tips": ["Eat small meals", "Stay hydrated"],
    "severity_level": "Mild to Moderate"
  },
  "message": "Successfully generated early symptoms information for week 10"
}
```

## Error Responses

### 400 Bad Request
```json
{
  "detail": "Week must be between 1 and 40"
}
```

### 404 Not Found
```json
{
  "detail": "Week 50 data not available. Please provide a week between 1-40."
}
```

### 500 Internal Server Error
```json
{
  "detail": "Internal server error: Error message"
}
```

### 503 Service Unavailable
```json
{
  "detail": "OpenAI service not available. Please check your API key configuration."
}
```

## Setup Instructions

### 1. Install Dependencies
```bash
pip install -r requirements.txt
```

### 2. Configure Environment Variables
Create a `.env` file:
```env
# OpenAI Configuration
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_MAX_TOKENS=500

# FastAPI Configuration
HOST=0.0.0.0
PORT=8000
DEBUG=True
```

### 3. Start the Server
```bash
python main.py
```

### 4. Access the API
- API: http://localhost:8000
- Interactive Documentation: http://localhost:8000/docs
- Alternative Documentation: http://localhost:8000/redoc

## Postman Collection

### Import Collection
1. Open Postman
2. Click "Import" button
3. Select `Pregnancy_Week_API.postman_collection.json`
4. Import the environment file `Pregnancy_API_Environment.postman_environment.json`

### Environment Variables
- `base_url`: http://localhost:8000
- `week`: 10 (default test week)
- `trimester`: 1 (default trimester)
- `openai_api_key`: Your OpenAI API key

### Sample Requests
The collection includes sample requests for:
- Week 10 complete data with AI enhancement
- Week 20 baby size image (banana shape)
- Week 5 early symptoms
- Week 15 nutrition tips
- Week 30 wellness tips

## Features

### Baby Size Visualization
- **40 different fruit/vegetable shapes** for each pregnancy week
- **Realistic colors** matching each fruit/vegetable
- **Two image styles**: Detailed (matplotlib) and Simple (PIL)
- **Emoji overlays** for instant recognition

### AI Integration
- **OpenAI-powered** baby size generation
- **AI-enhanced** symptoms, screening, wellness, and nutrition tips
- **Fallback data** when OpenAI is unavailable
- **Week-specific** personalized content

### Quick Actions
- **Early Symptoms**: Common symptoms, relief tips, when to call doctor
- **Prenatal Screening**: Recommended tests, descriptions, timing
- **Wellness Tips**: Exercise, sleep, stress management, general wellness
- **Nutrition Tips**: Essential nutrients, meal suggestions, foods to avoid

## Testing

### Using Postman
1. Import the collection and environment
2. Set the `week` variable to test different weeks
3. Run requests to test all endpoints
4. Check responses for proper data structure

### Using cURL
```bash
# Health check
curl http://localhost:8000/health

# Get week 10 data
curl http://localhost:8000/pregnancy/week/10

# Get AI-enhanced week 10 data
curl "http://localhost:8000/pregnancy/week/10?use_openai=true"

# Get week 10 baby size image
curl "http://localhost:8000/pregnancy/week/10/baby-image?style=matplotlib"
```

## Support

For issues or questions:
1. Check the API documentation at http://localhost:8000/docs
2. Verify your environment variables are set correctly
3. Ensure the server is running on the correct port
4. Check the console logs for error messages
