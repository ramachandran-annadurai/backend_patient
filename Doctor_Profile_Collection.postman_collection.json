{
	"info": {
		"_postman_id": "doctor-profile-collection-2024",
		"name": "Doctor Profile API Collection",
		"description": "Complete collection of doctor profile endpoints from doctor_v2 collection",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "doctor-profile-api"
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Login Doctor",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"doctor_username\",\n    \"password\": \"doctor_password\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"login"
							]
						},
						"description": "Login to get JWT token for doctor authentication"
					},
					"response": [
						{
							"name": "Successful Login",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"username\": \"doctor_username\",\n    \"password\": \"doctor_password\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/login",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"login"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n    \"patient_id\": \"DOC123456\",\n    \"user_role\": \"doctor\",\n    \"message\": \"Login successful\"\n}"
						}
					]
				}
			]
		},
		{
			"name": "Doctor Profile",
			"item": [
				{
					"name": "Get Current Doctor Profile",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/doctor/profile",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"doctor",
								"profile"
							]
						},
						"description": "Get profile details of the currently authenticated doctor"
					},
					"response": [
						{
							"name": "Successful Profile Retrieval",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{jwt_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/doctor/profile",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"doctor",
										"profile"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"doctor_profile\": {\n        \"_id\": \"507f1f77bcf86cd799439011\",\n        \"doctor_id\": \"DOC123456\",\n        \"name\": \"Dr. Sarah Johnson\",\n        \"specialty\": \"Cardiology\",\n        \"email\": \"sarah.johnson@hospital.com\",\n        \"phone\": \"+1-555-0123\",\n        \"location\": \"New York Medical Center\",\n        \"experience\": 8,\n        \"rating\": 4.9,\n        \"bio\": \"Experienced cardiologist specializing in interventional procedures\",\n        \"education\": \"MD from Harvard Medical School\",\n        \"certifications\": [\"Board Certified Cardiologist\", \"Fellow of American College of Cardiology\"],\n        \"languages\": [\"English\", \"Spanish\"],\n        \"availability\": \"Monday-Friday 9AM-5PM\",\n        \"profile_image\": \"https://example.com/doctor-sarah.jpg\",\n        \"created_at\": \"2024-01-15T10:30:00Z\",\n        \"updated_at\": \"2024-09-30T14:20:00Z\"\n    },\n    \"message\": \"Doctor profile retrieved successfully from doctor_v2 collection\"\n}"
						}
					]
				},
				{
					"name": "Get Doctor Profile by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/doctor/profile/{{doctor_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"doctor",
								"profile",
								"{{doctor_id}}"
							]
						},
						"description": "Get profile details of a specific doctor by their ID"
					},
					"response": [
						{
							"name": "Successful Specific Doctor Profile",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{jwt_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/doctor/profile/DOC789012",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"doctor",
										"profile",
										"DOC789012"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"doctor_profile\": {\n        \"_id\": \"507f1f77bcf86cd799439012\",\n        \"doctor_id\": \"DOC789012\",\n        \"name\": \"Dr. Michael Chen\",\n        \"specialty\": \"Neurology\",\n        \"email\": \"michael.chen@hospital.com\",\n        \"phone\": \"+1-555-0456\",\n        \"location\": \"Los Angeles Medical Center\",\n        \"experience\": 12,\n        \"rating\": 4.7,\n        \"bio\": \"Board-certified neurologist with expertise in movement disorders\",\n        \"education\": \"MD from Stanford Medical School\",\n        \"certifications\": [\"Board Certified Neurologist\", \"Fellow of American Academy of Neurology\"],\n        \"languages\": [\"English\", \"Mandarin\"],\n        \"availability\": \"Tuesday-Thursday 8AM-6PM\",\n        \"profile_image\": \"https://example.com/doctor-michael.jpg\",\n        \"created_at\": \"2024-02-10T09:15:00Z\",\n        \"updated_at\": \"2024-09-25T16:45:00Z\"\n    },\n    \"message\": \"Doctor profile for DOC789012 retrieved successfully from doctor_v2 collection\"\n}"
						}
					]
				}
			]
		},
		{
			"name": "Doctor Directory",
			"item": [
				{
					"name": "Get All Doctors",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/doctors",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"doctors"
							]
						},
						"description": "Get all doctors from doctor_v2 collection"
					},
					"response": [
						{
							"name": "All Doctors List",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{jwt_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/doctors",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"doctors"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"doctors\": [\n        {\n            \"_id\": \"507f1f77bcf86cd799439011\",\n            \"doctor_id\": \"DOC123456\",\n            \"name\": \"Dr. Sarah Johnson\",\n            \"specialty\": \"Cardiology\",\n            \"email\": \"sarah.johnson@hospital.com\",\n            \"phone\": \"+1-555-0123\",\n            \"location\": \"New York Medical Center\",\n            \"rating\": 4.9\n        },\n        {\n            \"_id\": \"507f1f77bcf86cd799439012\",\n            \"doctor_id\": \"DOC789012\",\n            \"name\": \"Dr. Michael Chen\",\n            \"specialty\": \"Neurology\",\n            \"email\": \"michael.chen@hospital.com\",\n            \"phone\": \"+1-555-0456\",\n            \"location\": \"Los Angeles Medical Center\",\n            \"rating\": 4.7\n        }\n    ],\n    \"total_count\": 2,\n    \"limit\": 50,\n    \"offset\": 0,\n    \"message\": \"Retrieved 2 doctors from doctor_v2 collection\"\n}"
						}
					]
				},
				{
					"name": "Get Doctors by Specialty",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/doctors?specialty=cardiology",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"doctors"
							],
							"query": [
								{
									"key": "specialty",
									"value": "cardiology",
									"description": "Filter doctors by specialty"
								}
							]
						},
						"description": "Get doctors filtered by specialty"
					},
					"response": [
						{
							"name": "Cardiologists Only",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{jwt_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/doctors?specialty=cardiology",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"doctors"
									],
									"query": [
										{
											"key": "specialty",
											"value": "cardiology"
										}
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"doctors\": [\n        {\n            \"_id\": \"507f1f77bcf86cd799439011\",\n            \"doctor_id\": \"DOC123456\",\n            \"name\": \"Dr. Sarah Johnson\",\n            \"specialty\": \"Cardiology\",\n            \"email\": \"sarah.johnson@hospital.com\",\n            \"phone\": \"+1-555-0123\",\n            \"location\": \"New York Medical Center\",\n            \"rating\": 4.9\n        }\n    ],\n    \"total_count\": 1,\n    \"limit\": 50,\n    \"offset\": 0,\n    \"message\": \"Retrieved 1 doctors from doctor_v2 collection\"\n}"
						}
					]
				},
				{
					"name": "Get Doctors by Location",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/doctors?location=New York",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"doctors"
							],
							"query": [
								{
									"key": "location",
									"value": "New York",
									"description": "Filter doctors by location"
								}
							]
						},
						"description": "Get doctors filtered by location"
					}
				},
				{
					"name": "Get Doctors with Pagination",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/doctors?limit=10&offset=0",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"doctors"
							],
							"query": [
								{
									"key": "limit",
									"value": "10",
									"description": "Number of results per page"
								},
								{
									"key": "offset",
									"value": "0",
									"description": "Number of results to skip"
								}
							]
						},
						"description": "Get doctors with pagination (limit and offset)"
					}
				},
				{
					"name": "Get Doctors with Multiple Filters",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/doctors?specialty=cardiology&location=New York&limit=5&offset=0",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"doctors"
							],
							"query": [
								{
									"key": "specialty",
									"value": "cardiology",
									"description": "Filter by specialty"
								},
								{
									"key": "location",
									"value": "New York",
									"description": "Filter by location"
								},
								{
									"key": "limit",
									"value": "5",
									"description": "Limit results"
								},
								{
									"key": "offset",
									"value": "0",
									"description": "Pagination offset"
								}
							]
						},
						"description": "Get doctors with multiple filters (specialty, location, pagination)"
					}
				}
			]
		},
		{
			"name": "Error Responses",
			"item": [
				{
					"name": "Doctor Not Found (404)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/doctor/profile/NONEXISTENT_ID",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"doctor",
								"profile",
								"NONEXISTENT_ID"
							]
						},
						"description": "Example of doctor not found error"
					},
					"response": [
						{
							"name": "Doctor Not Found",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{jwt_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/doctor/profile/NONEXISTENT_ID",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"doctor",
										"profile",
										"NONEXISTENT_ID"
									]
								}
							},
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"success\": false,\n    \"message\": \"Doctor with ID NONEXISTENT_ID not found in doctor_v2 collection\"\n}"
						}
					]
				},
				{
					"name": "Unauthorized (401)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/doctor/profile",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"doctor",
								"profile"
							]
						},
						"description": "Example of unauthorized access (no token)"
					},
					"response": [
						{
							"name": "Unauthorized",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/doctor/profile",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"doctor",
										"profile"
									]
								}
							},
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"error\": \"Token is missing\"\n}"
						}
					]
				},
				{
					"name": "Database Error (500)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/doctor/profile",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"doctor",
								"profile"
							]
						},
						"description": "Example of database connection error"
					},
					"response": [
						{
							"name": "Database Error",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{jwt_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/doctor/profile",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"doctor",
										"profile"
									]
								}
							},
							"status": "Internal Server Error",
							"code": 500,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"success\": false,\n    \"message\": \"Database not connected\"\n}"
						}
					]
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Auto-set base URL if not set",
					"if (!pm.environment.get('base_url')) {",
					"    pm.environment.set('base_url', 'https://pregnancy-ai.onrender.com');",
					"}"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Auto-extract JWT token from login response",
					"if (pm.response.json().token) {",
					"    pm.environment.set('jwt_token', pm.response.json().token);",
					"    console.log('JWT token saved to environment');",
					"}",
					"",
					"// Auto-extract doctor_id from profile response",
					"if (pm.response.json().doctor_profile && pm.response.json().doctor_profile.doctor_id) {",
					"    pm.environment.set('doctor_id', pm.response.json().doctor_profile.doctor_id);",
					"    console.log('Doctor ID saved to environment');",
					"}"
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "https://pregnancy-ai.onrender.com",
			"type": "string"
		},
		{
			"key": "jwt_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "doctor_id",
			"value": "DOC123456",
			"type": "string"
		}
	]
}
